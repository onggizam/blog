<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>onggizam@blog:~$</title>
    <link rel="icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="./styles.css" />
    <!-- marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- (선택) DOMPurify: XSS 방어용 권장 -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>
    <!-- highlight.js CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
    />
    <!-- highlight.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  </head>
  <body class="theme-terminal" data-lang="en">
    <div id="app">
      <header class="site-header">
        <div class="brand">
          <span class="host">onggizam</span><span class="at">@</span
          ><span class="user">blog</span>:<span class="path">~</span
          ><span class="prompt">$</span>
        </div>
        <nav class="quick-actions">
          <button id="btnThemeToggle" class="btn small" title="Toggle theme">
            Terminal
          </button>
          <button id="btnLangToggle" class="btn small" title="Toggle language">
            EN
          </button>
        </nav>
      </header>

      <main id="terminal-scene" class="scene">
        <div class="terminal-wrap">
          <div class="terminal-window">
            <div class="terminal-titlebar">
              <div class="traffic">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
              </div>
              <div class="title">onggizam@blog:~$</div>
              <div class="spacer"></div>
            </div>
            <div
              id="terminal-output"
              class="terminal-output"
              aria-live="polite"
            ></div>
            <!-- Create prompt line in JS-->
          </div>
        </div>
      </main>

      <main id="blog-scene" class="scene hidden">
        <div class="blog-container">
          <aside class="blog-sidebar">
            <h2 class="blog-title" data-i18n="posts">Posts</h2>
            <input
              id="post-search"
              class="search-input"
              type="search"
              placeholder="Search by title or tag…"
            />
            <ul id="post-list" class="post-list"></ul>
          </aside>
          <article id="post-view" class="post-view">
            <div class="post-chrome">
              <button id="btnBackToList" class="btn small" data-i18n="back">
                Back to list
              </button>
            </div>
            <h1 id="post-title" class="post-h1"></h1>
            <p id="post-meta" class="post-meta"></p>
            <div id="post-content" class="markdown"></div>
          </article>
        </div>
      </main>

      <footer class="site-footer">
        <p>© 2025 SeunggiHong. All rights reserved.</p>
        <a
          href="https://github.com/onggizam"
          target="_blank"
          rel="noopener"
          class="github-link"
        >
          <img src="assets/github.png" alt="GitHub" />
        </a>
      </footer>
    </div>
    <script>
      marked.setOptions({
        gfm: true, // GitHub Flavored Markdown
        breaks: false, // 단일 줄바꿈을 <br>로 바꿀지 여부
        headerIds: true, // 헤더에 id 부여(h1~h6)
        mangle: false, // 헤더 id 난독화 비활성화
        tables: true, // 표 활성(GFM에 포함이지만 명시)
        highlight: (code, lang) => {
          try {
            if (lang && hljs.getLanguage(lang)) {
              return hljs.highlight(code, { language: lang }).value;
            }
          } catch (_) {}
          try {
            return hljs.highlightAuto(code).value;
          } catch (_) {}
          return code; // 실패 시 원본
        },
      });
    </script>

    <script type="module" src="./js/app.js"></script>
  </body>
</html>
